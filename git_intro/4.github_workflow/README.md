---
permalink: /github_workflow
---
# GitHub を使ったワークフロー

## clone 

GitHub を利用することで、自身で作成したリポジトリだけでなく、
他人の作成したリポジトリも取得して、作業を開始することができます。

GitHub 上の リポジトリから 手元にリポジトリ環境を取得するには、
`git clone` コマンドを利用して以下の様に実行します。

```bash
$ git clone  https://github.com/lec-cafe/book_github_intro
```

::: warning
Git リポジトリの中に Git リポジトリを作成すると、予期せぬ動作を招く可能性があります。

一旦 `cd ~` など行って、Git リポジトリ外に移動してから上記のコマンドを実行しましょう。
:::


上記のコマンドを実行すると、現在のディレクトリに `book_github_intro` フォルダが作成されて、
このドキュメントのリポジトリ内容がダウンロードされます。

remote に、すでに clone した元のアドレスが登録されていることが確認できるでしょう。

```bash
$ cd book_github_intro
$ git remote -v
```

## リポジトリをForkする

clone して作成したリポジトリは、自分で作成したリポジトリと同じ様に、
ファイルの変更内容を add して コミットを作成することができます。

しかし、ファイルの変更をコミットしても、`git push origin master` コマンドを実行すると、
エラーになることがわかるでしょう。

GitHub で作業を行うとき、リポジトリでコードが共有されていても、
そのリポジトリは読み取り専用で、コードの書き換えができないケースがほとんどです。

チームで自分専用の書き込み可能なリポジトリを作成する場合、
GitHub の Fork 機能を利用して、自分専用のリポジトリを作成してみましょう。

Fork して作成したリポジトリは、元のリポジトリと同じコミット内容をもつリポジトリになります。

Fork したリポジトリには、手元で作成したコミットを push することができます。
Fork したリポジトリに Push するため、まずは手元のリポジトリに、remote を追加します。

```bash
$ git remote add {任意のリモート名} {ForkしたリポジトリのURL} 
```

::: tip
remote add でリポジトリを追加したら、正しく登録ができているか、
`git remote -v` で確認してみましょう。
:::


Fork したリポジトリが登録できたら、登録したリポジトリに向けて push を行います。

```bash
$ git push {登録したリモート名} master
```

これでコードの変更を Fork したリポジトリに送信できました。

### Pull Request の作成

Fork したリポジトリにコミットを送信しても、自分の Fork 先リポジトリにコミットがあるだけで、
他の人と共同作業には役に立たないコードになっています。

Fork 先に Push したコミットを、元のリポジトリに取り込むには、
Pull Request と呼ばれる機能を用いて、GitHub 上で取込リクエストを送ることができます。

![](/images/4.pullrequest.png)

PullRequest を作成したら、commit や  Files changed のタブから、
自分の送信した Pull Request が送信したい内容の意図とあっているか必ず確認するようにしましょう。

### pull してデータを取得する

`git pull` は、 `push` の反対で、リモートリポジトリからデータの変更を取り込みます。

他人のPull Request 等で 元のリポジトリに反映された変更を取り込むには、
`pull` コマンドを利用して以下のようにします。

```bash
$ git pull origin master
```

